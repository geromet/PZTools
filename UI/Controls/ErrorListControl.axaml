<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             x:Class="UI.Controls.ErrorListControl"
             x:CompileBindings="False">

    <Grid RowDefinitions="Auto,*">

        <!-- Toolbar -->
        <Border Grid.Row="0"
                Background="{StaticResource BgElevated}"
                BorderBrush="{StaticResource BorderSubtle}"
                BorderThickness="0 0 0 1"
                Padding="12 7">
            <DockPanel>
                <TextBlock DockPanel.Dock="Left"
                           Text="ERROR LIST"
                           FontSize="10" FontWeight="SemiBold" LetterSpacing="1.5"
                           Foreground="{StaticResource TextMuted}"
                           VerticalAlignment="Center" />

                <!-- Error/warning filter toggles -->
                <StackPanel DockPanel.Dock="Right" Orientation="Horizontal" Spacing="12">
                    <ToggleButton x:Name="ShowErrorsBtn"
                                  IsChecked="True"
                                  Padding="8 3" FontSize="11"
                                  Click="ShowErrors_Click">
                        <StackPanel Orientation="Horizontal" Spacing="5">
                            <Ellipse Width="7" Height="7" VerticalAlignment="Center"
                                     Fill="{StaticResource StatusError}" />
                            <TextBlock x:Name="ErrorCountText" Text="0 errors" />
                        </StackPanel>
                    </ToggleButton>
                    <ToggleButton x:Name="ShowWarningsBtn"
                                  IsChecked="True"
                                  Padding="8 3" FontSize="11"
                                  Click="ShowWarnings_Click">
                        <StackPanel Orientation="Horizontal" Spacing="5">
                            <Ellipse Width="7" Height="7" VerticalAlignment="Center"
                                     Fill="{StaticResource StatusWarning}" />
                            <TextBlock x:Name="WarningCountText" Text="0 warnings" />
                        </StackPanel>
                    </ToggleButton>
                </StackPanel>
            </DockPanel>
        </Border>

        <DataGrid x:Name="ErrorGrid"
                  Grid.Row="1"
                  AutoGenerateColumns="False"
                  IsReadOnly="True"
                  SelectionMode="Extended"
                  CanUserReorderColumns="True"
                  CanUserResizeColumns="True"
                  CanUserSortColumns="True">

            <DataGrid.ContextMenu>
                <ContextMenu>
                    <MenuItem Header="Copy selected" Click="CopyRow_Click" InputGesture="Ctrl+C" />
                    <MenuItem Header="Copy all" Click="CopyAll_Click" />
                </ContextMenu>
            </DataGrid.ContextMenu>

            <DataGrid.Columns>
                <DataGridTextColumn Header="Type" Binding="{Binding Type}" Width="60"  />
                <DataGridTextColumn Header="Code" Binding="{Binding Code}" Width="150" />
                <DataGridTextColumn Header="Context" Binding="{Binding Context}" Width="200"/>
                <DataGridTextColumn Header="Message" Binding="{Binding Message}" Width="*" />
                <DataGridTextColumn Header="File" Binding="{Binding DisplayFile}" Width="160" />
            </DataGrid.Columns>
            <DataGrid.Styles>
                <Style Selector="DataGridColumnHeader">
                    <Setter Property="Padding" Value="4 0" />
                </Style>
                <Style Selector="DataGridCell">
                    <Setter Property="Padding" Value="0" />
                </Style>
                <Style Selector="DataGridCell TextBlock">
                    <Setter Property="Margin" Value="4 0 0 0" />
                </Style>
            </DataGrid.Styles>
        </DataGrid>
    </Grid>
</UserControl>
